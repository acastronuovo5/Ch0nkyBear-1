#include <winsock2.h>
#include <windows.h>
#include <stdio.h>


/*
    Credit:
    https://github.com/kbsec/CS-501-2021/blob/main/LectureCode/Lecture17/testDll/test_dll.cpp
    Used for testing that the DLL compiles and runs
*/



typedef int (__stdcall *fmyMain)();

int main(){
    auto handle = LoadLibraryA("maliciousdll.dll");
    if (!handle){
        printf("Failed!\n");
    return 0;
    }
    fmyMain f = (fmyMain) GetProcAddress(handle, "myMain");
    f();
    Sleep(100000);
    printf("Done!");
    
}
